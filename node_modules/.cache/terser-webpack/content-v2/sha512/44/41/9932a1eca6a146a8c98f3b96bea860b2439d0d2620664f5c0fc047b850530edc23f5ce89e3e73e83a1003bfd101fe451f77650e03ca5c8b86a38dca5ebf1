{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{tmrb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"Tab1PageModule\",(function(){return tab1_module_Tab1PageModule}));var ionic_angular=__webpack_require__(\"TEn/\"),common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),explore_container_module=__webpack_require__(\"qtYk\"),router=__webpack_require__(\"tyNb\"),jquery=__webpack_require__(\"EVdn\"),jquery_default=__webpack_require__.n(jquery),core=__webpack_require__(\"fXoL\");function Tab1Page_span_4_Template(rf,ctx){1&rf&&(core.Mb(0,\"span\"),core.Mb(1,\"ion-chip\"),core.Mb(2,\"ion-label\"),core.ic(3,\"Debug\"),core.Lb(),core.Lb(),core.Lb())}function Tab1Page_ion_list_19_ion_item_1_Template(rf,ctx){if(1&rf){const _r12=core.Nb();core.Mb(0,\"ion-item\"),core.Mb(1,\"b\"),core.ic(2,\"[\"),core.Mb(3,\"span\",16),core.Ub(\"click\",(function($event){return core.dc(_r12),core.Wb(2).setProd($event)})),core.ic(4),core.Lb(),core.ic(5,\"]\"),core.Lb(),core.Lb()}if(2&rf){const item_r10=ctx.$implicit;core.zb(4),core.jc(item_r10)}}function Tab1Page_ion_list_19_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-list\"),core.gc(1,Tab1Page_ion_list_19_ion_item_1_Template,6,1,\"ion-item\",15),core.Lb()),2&rf){const ctx_r2=core.Wb();core.zb(1),core.Zb(\"ngForOf\",ctx_r2.items)}}function Tab1Page_div_20_Template(rf,ctx){1&rf&&core.Kb(0,\"div\")}function Tab1Page_ng_template_21_Template(rf,ctx){}function Tab1Page_ng_template_23_div_0_Template(rf,ctx){1&rf&&(core.Mb(0,\"div\"),core.Mb(1,\"ion-chip\",17),core.Mb(2,\"ion-label\"),core.ic(3,\"não encontrado\"),core.Lb(),core.Lb(),core.Lb())}function Tab1Page_ng_template_23_Template(rf,ctx){if(1&rf&&core.gc(0,Tab1Page_ng_template_23_div_0_Template,4,0,\"div\",1),2&rf){const ctx_r7=core.Wb();core.Zb(\"ngIf\",ctx_r7.codiprod)}}function Tab1Page_div_25_div_9_Template(rf,ctx){if(1&rf){const _r16=core.Nb();core.Mb(0,\"div\"),core.Mb(1,\"ion-button\",28),core.Ub(\"click\",(function(){return core.dc(_r16),core.Wb(2).onSubmit()})),core.ic(2,\" ENVIAR \"),core.Lb(),core.Lb()}}function Tab1Page_div_25_Template(rf,ctx){if(1&rf){const _r18=core.Nb();core.Mb(0,\"div\"),core.Mb(1,\"form\"),core.Mb(2,\"ion-card\",18),core.Mb(3,\"ion-badge\",19),core.ic(4),core.Lb(),core.Mb(5,\"ion-badge\",19),core.ic(6),core.Lb(),core.Mb(7,\"ion-badge\",19),core.ic(8),core.Lb(),core.gc(9,Tab1Page_div_25_div_9_Template,3,0,\"div\",1),core.Lb(),core.Mb(10,\"ion-card\"),core.Mb(11,\"ion-item\"),core.Mb(12,\"ion-label\"),core.ic(13,\"#Imagem de capa\"),core.Lb(),core.Mb(14,\"ion-button\",8),core.Ub(\"click\",(function(){return core.dc(_r18),core.Wb().selectfile(\"capa\")})),core.Kb(15,\"ion-icon\",20),core.Lb(),core.Mb(16,\"span\",21),core.Mb(17,\"input\",22),core.Ub(\"change\",(function(){return core.dc(_r18),core.Wb().onChangeImage(\"input-capa\",\"img-capa\")})),core.Lb(),core.Kb(18,\"input\"),core.Lb(),core.Lb(),core.Mb(19,\"ion-card-content\"),core.Kb(20,\"img\",23),core.Lb(),core.Lb(),core.Mb(21,\"ion-card\"),core.Mb(22,\"ion-item\"),core.Mb(23,\"ion-label\"),core.ic(24,\"#Imagem 2\"),core.Lb(),core.Mb(25,\"ion-button\",8),core.Ub(\"click\",(function(){return core.dc(_r18),core.Wb().selectfile(\"img2\")})),core.Kb(26,\"ion-icon\",20),core.Lb(),core.Mb(27,\"span\",24),core.Mb(28,\"input\",22),core.Ub(\"change\",(function(){return core.dc(_r18),core.Wb().onChangeImage(\"input-img2\",\"img-img2\")})),core.Lb(),core.Kb(29,\"input\"),core.Lb(),core.Lb(),core.Mb(30,\"ion-card-content\"),core.Kb(31,\"img\",25),core.Lb(),core.Lb(),core.Mb(32,\"ion-card\"),core.Mb(33,\"ion-item\"),core.Mb(34,\"ion-label\"),core.ic(35,\"#Imagem 3\"),core.Lb(),core.Mb(36,\"ion-button\",8),core.Ub(\"click\",(function(){return core.dc(_r18),core.Wb().selectfile(\"img3\")})),core.Kb(37,\"ion-icon\",20),core.Lb(),core.Mb(38,\"span\",26),core.Mb(39,\"input\",22),core.Ub(\"change\",(function(){return core.dc(_r18),core.Wb().onChangeImage(\"input-img3\",\"img-img3\")})),core.Lb(),core.Kb(40,\"input\"),core.Lb(),core.Lb(),core.Mb(41,\"ion-card-content\"),core.Kb(42,\"img\",27),core.Lb(),core.Lb(),core.Lb(),core.Mb(43,\"small\"),core.ic(44),core.Lb(),core.Kb(45,\"br\"),core.Mb(46,\"small\"),core.ic(47),core.Lb(),core.Kb(48,\"br\"),core.Mb(49,\"small\"),core.ic(50),core.Lb(),core.Lb()}if(2&rf){const ctx_r8=core.Wb();core.zb(4),core.jc(ctx_r8.prod.desc),core.zb(2),core.jc(ctx_r8.prod.codifab),core.zb(2),core.kc(\"\",ctx_r8.prod.qtd,\" UN\"),core.zb(1),core.Zb(\"ngIf\",ctx_r8.image.flag),core.zb(11),core.ac(\"src\",\"\",ctx_r8.url,\"/instaparts/img.php?CODIPROD=\",ctx_r8.codiprod,\"&IMG=CAPA_IMG\",core.ec),core.zb(11),core.ac(\"src\",\"\",ctx_r8.url,\"/instaparts/img.php?CODIPROD=\",ctx_r8.codiprod,\"&IMG=IMG2_IMG\",core.ec),core.zb(11),core.ac(\"src\",\"\",ctx_r8.url,\"/instaparts/img.php?CODIPROD=\",ctx_r8.codiprod,\"&IMG=IMG3_IMG\",core.ec),core.zb(2),core.jc(ctx_r8.result.capa),core.zb(3),core.jc(ctx_r8.result.img2),core.zb(3),core.jc(ctx_r8.result.img3)}}const routes=[{path:\"\",component:(()=>{class Tab1Page{constructor(){this.itemsArray=!1,this.prod={codi:\"\",desc:\"\",codifab:\"\",qtd:\"\",flag:!1},this.image={flag:!1,\"input-capa\":!1,\"input-img2\":!1,\"input-img3\":!1,count:0,success:0},this.result={capa:\"\",img2:\"\",img3:\"\"},this.origin=origin,this.window=window,this.url=\"\",this.debug=!1,this.initDebug(),this.clickedSearch(),this.initializeItems(),this.isItemAvailable=!1}initDebug(){\"http://localhost:8100\"==this.origin&&(this.debug=!0),this.debug?(this.codiprod=\"010278\",this.url=\"http://73140629c078.sn.mynetname.net/\"):this.url=this.origin,window.localStorage.setItem(\"url\",this.url)}initFlags(){this.image={flag:!1,\"input-capa\":!1,\"input-img2\":!1,\"input-img3\":!1,count:0,success:0}}clickedBarcode(){alert(\"\")}onSearchChange(event){}selectfile(ident){jquery_default()(\"#input-\"+ident+\" input\").trigger(\"click\")}onChangeImage(selector1,selector2){this.image.count+=1,this.image.flag=!0,this.image[selector1]=!0,jquery_default()(\"#\"+selector2)[0].src=window.URL.createObjectURL(jquery_default()(\"#\"+selector1+\" input\")[0].files[0]),console.log(window.URL.createObjectURL(jquery_default()(\"#\"+selector1+\" input\")[0].files[0]))}onSubmit(){confirm(\"Confirma a alteração das fotos?\")&&(jquery_default()(\"#input-capa input\")[0].files[0]&&this.image[\"input-capa\"]&&this.submitCapa(),jquery_default()(\"#input-img2 input\")[0].files[0]&&this.image[\"input-img2\"]&&this.submitImg2(),jquery_default()(\"#input-img3 input\")[0].files[0]&&this.image[\"input-img3\"]&&this.submitImg3(),this.image.flag=!1)}submitCapa(){var form;jquery_default()(\"#input-capa input\")[0].files[0]&&(console.log(\"submitCapa\"),(form=new FormData).append(\"CAPA_IMG\",jquery_default()(\"#input-capa input\")[0].files[0]),this.result.capa=this.codiprod+\" > CAPA_IMG : ERRO\",jquery_default.a.ajax({type:\"POST\",url:this.url+\"/instaparts/upload.php?IMG=CAPA_IMG&CODIGO=\"+btoa(this.codiprod),data:form,processData:!1,contentType:!1,success:data=>{console.log(data),this.result.capa=JSON.parse(data),this.image.success+=1}}))}submitImg2(){var form;jquery_default()(\"#input-img2 input\")[0].files[0]&&(console.log(\"submitImg2\"),(form=new FormData).append(\"IMG2_IMG\",jquery_default()(\"#input-img2 input\")[0].files[0]),this.result.img2=this.codiprod+\" > IMG2_IMG : ERRO\",setTimeout(()=>{jquery_default.a.ajax({type:\"POST\",url:this.url+\"/instaparts/upload.php?IMG=IMG2_IMG&CODIGO=\"+btoa(this.codiprod),data:form,processData:!1,contentType:!1,success:data=>{console.log(data),this.result.img2=JSON.parse(data),this.image.success+=1}})},1e3))}submitImg3(){var form;jquery_default()(\"#input-img3 input\")[0].files[0]&&(console.log(\"submitImg3\"),(form=new FormData).append(\"IMG3_IMG\",jquery_default()(\"#input-img3 input\")[0].files[0]),this.result.img3=this.codiprod+\" > IMG3_IMG : ERRO\",setTimeout(()=>{jquery_default.a.ajax({type:\"POST\",url:this.url+\"/instaparts/upload.php?IMG=IMG3_IMG&CODIGO=\"+btoa(this.codiprod),data:form,processData:!1,contentType:!1,success:data=>{console.log(data),this.result.img3=JSON.parse(data),this.image.success+=1}})},2e3))}clickedSearch(){this.isItemAvailable=!1,jquery_default.a.get(this.url+\"/instaparts/oci.php?CODIPROD=\"+this.codiprod,data=>{(data=JSON.parse(data)).data[0]?(this.prod.codi=(data=data.data[0]).CODI_PROD,this.prod.desc=data.DESC_PROD,this.prod.codifab=data.CODIFAB_PROD,this.prod.qtd=data.QTDD_QTDD,this.prod.flag=!0,this.initFlags()):this.prod.flag=!1})}setProd(ev){console.log(\"setProd\"),this.isItemAvailable=!1,this.codiprod=ev.target.innerText,this.clickedSearch()}getItems(ev){const val=ev.target.value;val.length>2?this.initializeItems():this.isItemAvailable=!1,val.length>2&&val&&\"\"!=val.trim()&&(this.isItemAvailable=!0,this.items=this.items.filter(item=>item.toLowerCase().indexOf(val.toLowerCase())>-1),this.items=this.items.slice(0,10))}initializeItems(){this.itemsArray?this.items=this.itemsArray:jquery_default.a.get(this.url+\"/api/balanco/produto?OP=LIST\",data=>{data=JSON.parse(data),this.itemsArray=data,this.items=data})}}return Tab1Page.ɵfac=function(t){return new(t||Tab1Page)},Tab1Page.ɵcmp=core.Db({type:Tab1Page,selectors:[[\"app-tab1\"]],decls:26,vars:11,consts:[[3,\"translucent\"],[4,\"ngIf\"],[3,\"fullscreen\"],[\"vertical\",\"top\",\"horizontal\",\"end\",\"slot\",\"fixed\"],[\"color\",\"success\"],[\"collapse\",\"condense\"],[\"size\",\"large\"],[\"slot\",\"primary\"],[3,\"click\"],[\"slot\",\"icon-only\",\"name\",\"search\"],[\"debounce\",\"500\",\"cancelButtonText\",\"X\",\"placeholder\",\"Código do produto\",3,\"ngModel\",\"ionInput\",\"ionChange\",\"ngModelChange\"],[\"inputSearch\",\"\"],[4,\"ngIf\",\"ngIfThen\",\"ngIfElse\"],[\"thenBlock\",\"\"],[\"elseBlock\",\"\"],[4,\"ngFor\",\"ngForOf\"],[2,\"color\",\"rebeccapurple\",3,\"click\"],[\"outline\",\"\",\"color\",\"danger\"],[2,\"text-align\",\"center\"],[\"color\",\"primary\"],[\"name\",\"camera\"],[\"id\",\"input-capa\",2,\"display\",\"none\"],[\"type\",\"file\",\"accept\",\"image/*\",3,\"change\"],[\"id\",\"img-capa\",\"alt\",\"\",3,\"src\"],[\"id\",\"input-img2\",2,\"display\",\"none\"],[\"id\",\"img-img2\",\"alt\",\"\",3,\"src\"],[\"id\",\"input-img3\",2,\"display\",\"none\"],[\"id\",\"img-img3\",\"alt\",\"\",3,\"src\"],[\"color\",\"danger\",\"expand\",\"block\",3,\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-header\",0),core.Mb(1,\"ion-toolbar\"),core.Mb(2,\"ion-title\"),core.ic(3,\" Gerenciar Fotos \"),core.gc(4,Tab1Page_span_4_Template,4,0,\"span\",1),core.Lb(),core.Lb(),core.Lb(),core.Mb(5,\"ion-content\",2),core.Mb(6,\"ion-fab\",3),core.Mb(7,\"ion-fab-button\",4),core.ic(8),core.Lb(),core.Lb(),core.Mb(9,\"ion-header\",5),core.Mb(10,\"ion-toolbar\"),core.Mb(11,\"ion-title\",6),core.ic(12,\"Gerenciar fotos\"),core.Lb(),core.Lb(),core.Lb(),core.Mb(13,\"ion-toolbar\"),core.Mb(14,\"ion-buttons\",7),core.Mb(15,\"ion-button\",8),core.Ub(\"click\",(function(){return ctx.clickedSearch()})),core.Kb(16,\"ion-icon\",9),core.Lb(),core.Lb(),core.Mb(17,\"ion-searchbar\",10,11),core.Ub(\"ionInput\",(function($event){return ctx.getItems($event)}))(\"ionChange\",(function($event){return ctx.onSearchChange($event)}))(\"ngModelChange\",(function($event){return ctx.codiprod=$event})),core.Lb(),core.gc(19,Tab1Page_ion_list_19_Template,2,1,\"ion-list\",1),core.Lb(),core.gc(20,Tab1Page_div_20_Template,1,0,\"div\",12),core.gc(21,Tab1Page_ng_template_21_Template,0,0,\"ng-template\",null,13,core.hc),core.gc(23,Tab1Page_ng_template_23_Template,1,1,\"ng-template\",null,14,core.hc),core.gc(25,Tab1Page_div_25_Template,51,13,\"div\",1),core.Lb()),2&rf){const _r4=core.cc(22),_r6=core.cc(24);core.Zb(\"translucent\",!0),core.zb(4),core.Zb(\"ngIf\",ctx.debug),core.zb(1),core.Zb(\"fullscreen\",!0),core.zb(3),core.lc(\" \",ctx.image.success,\"/\",ctx.image.count,\" \"),core.zb(9),core.Zb(\"ngModel\",ctx.codiprod),core.zb(2),core.Zb(\"ngIf\",ctx.isItemAvailable),core.zb(1),core.Zb(\"ngIf\",ctx.prod.flag)(\"ngIfThen\",_r4)(\"ngIfElse\",_r6),core.zb(5),core.Zb(\"ngIf\",ctx.prod.flag)}},directives:[ionic_angular.k,ionic_angular.v,ionic_angular.u,common.i,ionic_angular.h,ionic_angular.i,ionic_angular.j,ionic_angular.d,ionic_angular.c,ionic_angular.l,ionic_angular.q,ionic_angular.z,fesm2015_forms.c,fesm2015_forms.f,ionic_angular.g,ionic_angular.n,ionic_angular.o,common.h,ionic_angular.m,fesm2015_forms.g,fesm2015_forms.d,fesm2015_forms.e,ionic_angular.e,ionic_angular.b,ionic_angular.f],styles:[\"\"]}),Tab1Page})()}];let tab1_routing_module_Tab1PageRoutingModule=(()=>{class Tab1PageRoutingModule{}return Tab1PageRoutingModule.ɵmod=core.Hb({type:Tab1PageRoutingModule}),Tab1PageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||Tab1PageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),Tab1PageRoutingModule})(),tab1_module_Tab1PageModule=(()=>{class Tab1PageModule{}return Tab1PageModule.ɵmod=core.Hb({type:Tab1PageModule}),Tab1PageModule.ɵinj=core.Gb({factory:function(t){return new(t||Tab1PageModule)},imports:[[ionic_angular.w,common.b,fesm2015_forms.a,explore_container_module.a,tab1_routing_module_Tab1PageRoutingModule]]}),Tab1PageModule})()}}]);","extractedComments":[]}