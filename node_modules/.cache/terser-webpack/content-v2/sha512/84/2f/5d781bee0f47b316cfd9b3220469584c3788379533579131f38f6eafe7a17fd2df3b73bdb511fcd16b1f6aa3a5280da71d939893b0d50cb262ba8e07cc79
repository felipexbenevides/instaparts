{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{tmrb:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"Tab1PageModule\",(function(){return tab1_module_Tab1PageModule}));var ionic_angular=__webpack_require__(\"TEn/\"),common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),explore_container_module=__webpack_require__(\"qtYk\"),router=__webpack_require__(\"tyNb\"),jquery=__webpack_require__(\"EVdn\"),jquery_default=__webpack_require__.n(jquery),core=__webpack_require__(\"fXoL\");function Tab1Page_ion_list_17_ion_item_1_Template(rf,ctx){if(1&rf){const _r11=core.Nb();core.Mb(0,\"ion-item\"),core.Mb(1,\"b\"),core.ic(2,\"[\"),core.Mb(3,\"span\",15),core.Ub(\"click\",(function($event){return core.dc(_r11),core.Wb(2).setProd($event)})),core.ic(4),core.Lb(),core.ic(5,\"]\"),core.Lb(),core.Lb()}if(2&rf){const item_r9=ctx.$implicit;core.zb(4),core.jc(item_r9)}}function Tab1Page_ion_list_17_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-list\"),core.gc(1,Tab1Page_ion_list_17_ion_item_1_Template,6,1,\"ion-item\",14),core.Lb()),2&rf){const ctx_r1=core.Wb();core.zb(1),core.Zb(\"ngForOf\",ctx_r1.items)}}function Tab1Page_div_18_Template(rf,ctx){1&rf&&core.Kb(0,\"div\")}function Tab1Page_ng_template_19_Template(rf,ctx){}function Tab1Page_ng_template_21_div_0_Template(rf,ctx){1&rf&&(core.Mb(0,\"div\"),core.Mb(1,\"ion-chip\",16),core.Mb(2,\"ion-label\"),core.ic(3,\"não encontrado\"),core.Lb(),core.Lb(),core.Lb())}function Tab1Page_ng_template_21_Template(rf,ctx){if(1&rf&&core.gc(0,Tab1Page_ng_template_21_div_0_Template,4,0,\"div\",10),2&rf){const ctx_r6=core.Wb();core.Zb(\"ngIf\",ctx_r6.codiprod)}}function Tab1Page_div_23_div_9_Template(rf,ctx){if(1&rf){const _r15=core.Nb();core.Mb(0,\"div\"),core.Mb(1,\"ion-button\",27),core.Ub(\"click\",(function(){return core.dc(_r15),core.Wb(2).onSubmit()})),core.ic(2,\" ENVIAR \"),core.Lb(),core.Lb()}}function Tab1Page_div_23_Template(rf,ctx){if(1&rf){const _r17=core.Nb();core.Mb(0,\"div\"),core.Mb(1,\"form\"),core.Mb(2,\"ion-card\",17),core.Mb(3,\"ion-badge\",18),core.ic(4),core.Lb(),core.Mb(5,\"ion-badge\",18),core.ic(6),core.Lb(),core.Mb(7,\"ion-badge\",18),core.ic(8),core.Lb(),core.gc(9,Tab1Page_div_23_div_9_Template,3,0,\"div\",10),core.Lb(),core.Mb(10,\"ion-card\"),core.Mb(11,\"ion-item\"),core.Mb(12,\"ion-label\"),core.ic(13,\"#Imagem de capa\"),core.Lb(),core.Mb(14,\"ion-button\",5),core.Ub(\"click\",(function(){return core.dc(_r17),core.Wb().selectfile(\"capa\")})),core.Kb(15,\"ion-icon\",19),core.Lb(),core.Mb(16,\"span\",20),core.Mb(17,\"input\",21),core.Ub(\"change\",(function(){return core.dc(_r17),core.Wb().onChangeImage(\"input-capa\",\"img-capa\")})),core.Lb(),core.Kb(18,\"input\"),core.Lb(),core.Lb(),core.Mb(19,\"ion-card-content\"),core.Kb(20,\"img\",22),core.Lb(),core.Lb(),core.Mb(21,\"ion-card\"),core.Mb(22,\"ion-item\"),core.Mb(23,\"ion-label\"),core.ic(24,\"#Imagem 2\"),core.Lb(),core.Mb(25,\"ion-button\",5),core.Ub(\"click\",(function(){return core.dc(_r17),core.Wb().selectfile(\"img2\")})),core.Kb(26,\"ion-icon\",19),core.Lb(),core.Mb(27,\"span\",23),core.Mb(28,\"input\",21),core.Ub(\"change\",(function(){return core.dc(_r17),core.Wb().onChangeImage(\"input-img2\",\"img-img2\")})),core.Lb(),core.Kb(29,\"input\"),core.Lb(),core.Lb(),core.Mb(30,\"ion-card-content\"),core.Kb(31,\"img\",24),core.Lb(),core.Lb(),core.Mb(32,\"ion-card\"),core.Mb(33,\"ion-item\"),core.Mb(34,\"ion-label\"),core.ic(35,\"#Imagem 3\"),core.Lb(),core.Mb(36,\"ion-button\",5),core.Ub(\"click\",(function(){return core.dc(_r17),core.Wb().selectfile(\"img3\")})),core.Kb(37,\"ion-icon\",19),core.Lb(),core.Mb(38,\"span\",25),core.Mb(39,\"input\",21),core.Ub(\"change\",(function(){return core.dc(_r17),core.Wb().onChangeImage(\"input-img3\",\"img-img3\")})),core.Lb(),core.Kb(40,\"input\"),core.Lb(),core.Lb(),core.Mb(41,\"ion-card-content\"),core.Kb(42,\"img\",26),core.Lb(),core.Lb(),core.Lb(),core.Mb(43,\"small\"),core.ic(44),core.Lb(),core.Kb(45,\"br\"),core.Mb(46,\"small\"),core.ic(47),core.Lb(),core.Kb(48,\"br\"),core.Mb(49,\"small\"),core.ic(50),core.Lb(),core.Lb()}if(2&rf){const ctx_r7=core.Wb();core.zb(4),core.jc(ctx_r7.prod.desc),core.zb(2),core.jc(ctx_r7.prod.codifab),core.zb(2),core.kc(\"\",ctx_r7.prod.qtd,\" UN\"),core.zb(1),core.Zb(\"ngIf\",ctx_r7.image.flag),core.zb(11),core.ac(\"src\",\"\",ctx_r7.origin,\"/instaparts/img.php?CODIPROD=\",ctx_r7.codiprod,\"&IMG=CAPA_IMG\",core.ec),core.zb(11),core.ac(\"src\",\"\",ctx_r7.origin,\"/instaparts/img.php?CODIPROD=\",ctx_r7.codiprod,\"&IMG=IMG2_IMG\",core.ec),core.zb(11),core.ac(\"src\",\"\",ctx_r7.origin,\"/instaparts/img.php?CODIPROD=\",ctx_r7.codiprod,\"&IMG=IMG3_IMG\",core.ec),core.zb(2),core.jc(ctx_r7.result.capa),core.zb(3),core.jc(ctx_r7.result.img2),core.zb(3),core.jc(ctx_r7.result.img3)}}const routes=[{path:\"\",component:(()=>{class Tab1Page{constructor(){this.itemsArray=!1,this.prod={codi:\"\",desc:\"\",codifab:\"\",qtd:\"\",flag:!1},this.image={flag:!1},this.result={capa:\"\",img2:\"\",img3:\"\"},this.origin=origin,this.clickedSearch(),this.initializeItems(),this.isItemAvailable=!1}clickedBarcode(){alert(\"\")}onSearchChange(event){this.prod.flag=!1}selectfile(ident){jquery_default()(\"#input-\"+ident+\" input\").trigger(\"click\")}onChangeImage(selector1,selector2){this.image.flag=!0,jquery_default()(\"#\"+selector2)[0].src=window.URL.createObjectURL(jquery_default()(\"#\"+selector1+\" input\")[0].files[0]),console.log(window.URL.createObjectURL(jquery_default()(\"#\"+selector1+\" input\")[0].files[0]))}onSubmit(){confirm(\"Confirma a alteração das fotos?\")&&(jquery_default()(\"#input-capa input\")[0].files[0]?this.submitCapa():jquery_default()(\"#input-img2 input\")[0].files[0]?this.submitImg2():jquery_default()(\"#input-img3 input\")[0].files[0]&&this.submitImg3())}submitCapa(){var form;jquery_default()(\"#input-capa input\")[0].files[0]&&((form=new FormData).append(\"CAPA_IMG\",jquery_default()(\"#input-capa input\")[0].files[0]),this.result.capa=this.codiprod+\" > CAPA_IMG : ERRO\",jquery_default.a.ajax({type:\"POST\",url:this.origin+\"/instaparts/upload.php?IMG=CAPA_IMG&CODIGO=\"+btoa(this.codiprod),data:form,processData:!1,contentType:!1,success:data=>{console.log(data),this.result.capa=JSON.parse(data),this.submitImg2()}}))}submitImg2(){var form;jquery_default()(\"#input-img2 input\")[0].files[0]&&((form=new FormData).append(\"IMG2_IMG\",jquery_default()(\"#input-img2 input\")[0].files[0]),this.result.img2=this.codiprod+\" > IMG2_IMG : ERRO\",setTimeout(()=>{jquery_default.a.ajax({type:\"POST\",url:this.origin+\"/instaparts/upload.php?IMG=IMG2_IMG&CODIGO=\"+btoa(this.codiprod),data:form,processData:!1,contentType:!1,success:data=>{console.log(data),this.result.img2=JSON.parse(data),this.submitImg3()}})},1e3))}submitImg3(){var form;jquery_default()(\"#input-img3 input\")[0].files[0]&&((form=new FormData).append(\"IMG3_IMG\",jquery_default()(\"#input-img3 input\")[0].files[0]),this.result.img3=this.codiprod+\" > IMG3_IMG : ERRO\",setTimeout(()=>{jquery_default.a.ajax({type:\"POST\",url:this.origin+\"/instaparts/upload.php?IMG=IMG3_IMG&CODIGO=\"+btoa(this.codiprod),data:form,processData:!1,contentType:!1,success:data=>{console.log(data),this.result.img3=JSON.parse(data)}})},2e3))}clickedSearch(){this.isItemAvailable=!1,jquery_default.a.get(this.origin+\"/instaparts/oci.php?CODIPROD=\"+this.codiprod,data=>{(data=JSON.parse(data)).data[0]?(data=data.data[0],console.log(data),this.prod.codi=data.CODI_PROD,this.prod.desc=data.DESC_PROD,this.prod.codifab=data.CODIFAB_PROD,this.prod.qtd=data.QTDD_QTDD,this.prod.flag=!0):this.prod.flag=!1})}setProd(ev){console.log(\"setProd\"),console.log(ev),this.isItemAvailable=!1,this.codiprod=ev.target.innerText,this.clickedSearch()}getItems(ev){const val=ev.target.value;val.length>3?this.initializeItems():this.isItemAvailable=!1,val.length>3&&val&&\"\"!=val.trim()&&(this.isItemAvailable=!0,this.items=this.items.filter(item=>item.toLowerCase().indexOf(val.toLowerCase())>-1),this.items=this.items.slice(0,10))}initializeItems(){this.itemsArray?this.items=this.itemsArray:jquery_default.a.get(\"http://localhost/api/balanco/produto?OP=LIST\",data=>{console.log(\"antes\",data),data=JSON.parse(data),console.log(data),this.itemsArray=data,this.items=data})}}return Tab1Page.ɵfac=function(t){return new(t||Tab1Page)},Tab1Page.ɵcmp=core.Db({type:Tab1Page,selectors:[[\"app-tab1\"]],decls:24,vars:8,consts:[[3,\"translucent\"],[3,\"fullscreen\"],[\"collapse\",\"condense\"],[\"size\",\"large\"],[\"slot\",\"primary\"],[3,\"click\"],[\"slot\",\"icon-only\",\"name\",\"search\"],[\"slot\",\"icon-only\",\"name\",\"barcode\"],[\"debounce\",\"500\",\"cancelButtonText\",\"X\",\"placeholder\",\"Código do produto\",3,\"ngModel\",\"ionInput\",\"ionChange\",\"ngModelChange\"],[\"inputSearch\",\"\"],[4,\"ngIf\"],[4,\"ngIf\",\"ngIfThen\",\"ngIfElse\"],[\"thenBlock\",\"\"],[\"elseBlock\",\"\"],[4,\"ngFor\",\"ngForOf\"],[2,\"color\",\"rebeccapurple\",3,\"click\"],[\"outline\",\"\",\"color\",\"danger\"],[2,\"text-align\",\"center\"],[\"color\",\"primary\"],[\"name\",\"camera\"],[\"id\",\"input-capa\",2,\"display\",\"none\"],[\"type\",\"file\",\"accept\",\"image/*\",3,\"change\"],[\"id\",\"img-capa\",\"alt\",\"\",3,\"src\"],[\"id\",\"input-img2\",2,\"display\",\"none\"],[\"id\",\"img-img2\",\"alt\",\"\",3,\"src\"],[\"id\",\"input-img3\",2,\"display\",\"none\"],[\"id\",\"img-img3\",\"alt\",\"\",3,\"src\"],[\"color\",\"danger\",\"expand\",\"block\",3,\"click\"]],template:function(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-header\",0),core.Mb(1,\"ion-toolbar\"),core.Mb(2,\"ion-title\"),core.ic(3,\" Gerenciar fotos \"),core.Lb(),core.Lb(),core.Lb(),core.Mb(4,\"ion-content\",1),core.Mb(5,\"ion-header\",2),core.Mb(6,\"ion-toolbar\"),core.Mb(7,\"ion-title\",3),core.ic(8,\"Gerenciar fotos\"),core.Lb(),core.Lb(),core.Lb(),core.Mb(9,\"ion-toolbar\"),core.Mb(10,\"ion-buttons\",4),core.Mb(11,\"ion-button\",5),core.Ub(\"click\",(function(){return ctx.clickedSearch()})),core.Kb(12,\"ion-icon\",6),core.Lb(),core.Mb(13,\"ion-button\",5),core.Ub(\"click\",(function(){return ctx.clickedBarcode()})),core.Kb(14,\"ion-icon\",7),core.Lb(),core.Lb(),core.Mb(15,\"ion-searchbar\",8,9),core.Ub(\"ionInput\",(function($event){return ctx.getItems($event)}))(\"ionChange\",(function($event){return ctx.onSearchChange($event)}))(\"ngModelChange\",(function($event){return ctx.codiprod=$event})),core.Lb(),core.gc(17,Tab1Page_ion_list_17_Template,2,1,\"ion-list\",10),core.Lb(),core.gc(18,Tab1Page_div_18_Template,1,0,\"div\",11),core.gc(19,Tab1Page_ng_template_19_Template,0,0,\"ng-template\",null,12,core.hc),core.gc(21,Tab1Page_ng_template_21_Template,1,1,\"ng-template\",null,13,core.hc),core.gc(23,Tab1Page_div_23_Template,51,13,\"div\",10),core.Lb()),2&rf){const _r3=core.cc(20),_r5=core.cc(22);core.Zb(\"translucent\",!0),core.zb(4),core.Zb(\"fullscreen\",!0),core.zb(11),core.Zb(\"ngModel\",ctx.codiprod),core.zb(2),core.Zb(\"ngIf\",ctx.isItemAvailable),core.zb(1),core.Zb(\"ngIf\",ctx.prod.flag)(\"ngIfThen\",_r3)(\"ngIfElse\",_r5),core.zb(5),core.Zb(\"ngIf\",ctx.prod.flag)}},directives:[ionic_angular.i,ionic_angular.t,ionic_angular.s,ionic_angular.h,ionic_angular.d,ionic_angular.c,ionic_angular.j,ionic_angular.o,ionic_angular.x,fesm2015_forms.c,fesm2015_forms.f,common.i,ionic_angular.m,common.h,ionic_angular.k,ionic_angular.g,ionic_angular.l,fesm2015_forms.g,fesm2015_forms.d,fesm2015_forms.e,ionic_angular.e,ionic_angular.b,ionic_angular.f],styles:[\"\"]}),Tab1Page})()}];let tab1_routing_module_Tab1PageRoutingModule=(()=>{class Tab1PageRoutingModule{}return Tab1PageRoutingModule.ɵmod=core.Hb({type:Tab1PageRoutingModule}),Tab1PageRoutingModule.ɵinj=core.Gb({factory:function(t){return new(t||Tab1PageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),Tab1PageRoutingModule})(),tab1_module_Tab1PageModule=(()=>{class Tab1PageModule{}return Tab1PageModule.ɵmod=core.Hb({type:Tab1PageModule}),Tab1PageModule.ɵinj=core.Gb({factory:function(t){return new(t||Tab1PageModule)},imports:[[ionic_angular.u,common.b,fesm2015_forms.a,explore_container_module.a,tab1_routing_module_Tab1PageRoutingModule]]}),Tab1PageModule})()}}]);","extractedComments":[]}